let l=[],n=0;const u=4;let f=r=>{let o=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(t){return e.lc=o.push(t),()=>{for(let i=n+u;i<l.length;)l[i]===t?l.splice(i,u):i+=u;let s=o.indexOf(t);~s&&(o.splice(s,1),--e.lc)}},notify(t,s){let i=!l.length;for(let a of o)l.push(a,e.value,t,s);if(i){for(n=0;n<l.length;n+=u)l[n](l[n+1],l[n+2],l[n+3]);l.length=0}},off(){},set(t){let s=e.value;s!==t&&(e.value=t,e.notify(s))},subscribe(t){let s=e.listen(t);return t(e.value),s},value:r};return e};const c=f(""),d=f(""),h=f([]),g=f(!1);export{g as a,d as b,h as f,c as s};
