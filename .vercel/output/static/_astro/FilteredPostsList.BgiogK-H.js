import{a as _e,j as i,u as H,P as D,b as Ne,c as $,d as U,B as Ct}from"./createLucideIcon.qJhzsaEH.js";import{a}from"./index.BOT7WSGe.js";import{s as yt,b as wt,f as Rt,a as Ae}from"./blogFilterStore.B-Rf4WRp.js";import{I as Pt}from"./input.DR03wqjK.js";import{c as Oe,u as Me,R as Et,a as Te,b as k,d as _,A as Fe,P as Q,e as $e,h as Le,f as We,g as Ge,F as ze,D as Be,C as Dt,i as It,j as At,k as St}from"./check.9cGEeTnH.js";import"./index.CDuF_csM.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],kt=_e("chevrons-up-down",jt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nt=_e("search",_t);var ee="Popover",[Ke,Jr]=Te(ee,[Oe]),Y=Oe(),[Ot,O]=Ke(ee),qe=e=>{const{__scopePopover:r,children:t,open:l,defaultOpen:n,onOpenChange:o,modal:c=!1}=e,u=Y(r),g=a.useRef(null),[d,f]=a.useState(!1),[m,x]=Me({prop:l,defaultProp:n??!1,onChange:o,caller:ee});return i.jsx(Et,{...u,children:i.jsx(Ot,{scope:r,contentId:k(),triggerRef:g,open:m,onOpenChange:x,onOpenToggle:a.useCallback(()=>x(C=>!C),[x]),hasCustomAnchor:d,onCustomAnchorAdd:a.useCallback(()=>f(!0),[]),onCustomAnchorRemove:a.useCallback(()=>f(!1),[]),modal:c,children:t})})};qe.displayName=ee;var Ve="PopoverAnchor",Mt=a.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=O(Ve,t),o=Y(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=n;return a.useEffect(()=>(c(),()=>u()),[c,u]),i.jsx(Fe,{...o,...l,ref:r})});Mt.displayName=Ve;var Ue="PopoverTrigger",He=a.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=O(Ue,t),o=Y(t),c=H(r,n.triggerRef),u=i.jsx(D.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Xe(n.open),...l,ref:c,onClick:_(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?u:i.jsx(Fe,{asChild:!0,...o,children:u})});He.displayName=Ue;var ge="PopoverPortal",[Tt,Ft]=Ke(ge,{forceMount:void 0}),Qe=e=>{const{__scopePopover:r,forceMount:t,children:l,container:n}=e,o=O(ge,r);return i.jsx(Tt,{scope:r,forceMount:t,children:i.jsx(Q,{present:t||o.open,children:i.jsx($e,{asChild:!0,container:n,children:l})})})};Qe.displayName=ge;var z="PopoverContent",Ye=a.forwardRef((e,r)=>{const t=Ft(z,e.__scopePopover),{forceMount:l=t.forceMount,...n}=e,o=O(z,e.__scopePopover);return i.jsx(Q,{present:l||o.open,children:o.modal?i.jsx(Lt,{...n,ref:r}):i.jsx(Wt,{...n,ref:r})})});Ye.displayName=z;var $t=Ne("PopoverContent.RemoveScroll"),Lt=a.forwardRef((e,r)=>{const t=O(z,e.__scopePopover),l=a.useRef(null),n=H(r,l),o=a.useRef(!1);return a.useEffect(()=>{const c=l.current;if(c)return Le(c)},[]),i.jsx(We,{as:$t,allowPinchZoom:!0,children:i.jsx(Ze,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,c=>{c.preventDefault(),o.current||t.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,d=u.button===2||g;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:_(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wt=a.forwardRef((e,r)=>{const t=O(z,e.__scopePopover),l=a.useRef(!1),n=a.useRef(!1);return i.jsx(Ze,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(l.current||t.triggerRef.current?.focus(),o.preventDefault()),l.current=!1,n.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(l.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),Ze=a.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:g,onFocusOutside:d,onInteractOutside:f,...m}=e,x=O(z,t),C=Y(t);return Ge(),i.jsx(ze,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:o,children:i.jsx(Be,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:g,onFocusOutside:d,onDismiss:()=>x.onOpenChange(!1),children:i.jsx(Dt,{"data-state":Xe(x.open),role:"dialog",id:x.contentId,...C,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Je="PopoverClose",Gt=a.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=O(Je,t);return i.jsx(D.button,{type:"button",...l,ref:r,onClick:_(e.onClick,()=>n.onOpenChange(!1))})});Gt.displayName=Je;var zt="PopoverArrow",Bt=a.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=Y(t);return i.jsx(It,{...n,...l,ref:r})});Bt.displayName=zt;function Xe(e){return e?"open":"closed"}var Kt=qe,qt=He,Vt=Qe,Ut=Ye;function Ht({...e}){return i.jsx(Kt,{"data-slot":"popover",...e})}function Qt({...e}){return i.jsx(qt,{"data-slot":"popover-trigger",...e})}function Yt({className:e,align:r="center",sideOffset:t=4,...l}){return i.jsx(Vt,{children:i.jsx(Ut,{"data-slot":"popover-content",align:r,sideOffset:t,className:$("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...l})})}var Se=1,Zt=.9,Jt=.8,Xt=.17,de=.1,fe=.999,er=.9999,tr=.99,rr=/[\\\/_+.#"@\[\(\{&]/,or=/[\\\/_+.#"@\[\(\{&]/g,nr=/[\s-]/,et=/[\s-]/g;function me(e,r,t,l,n,o,c){if(o===r.length)return n===e.length?Se:tr;var u=`${n},${o}`;if(c[u]!==void 0)return c[u];for(var g=l.charAt(o),d=t.indexOf(g,n),f=0,m,x,C,j;d>=0;)m=me(e,r,t,l,d+1,o+1,c),m>f&&(d===n?m*=Se:rr.test(e.charAt(d-1))?(m*=Jt,C=e.slice(n,d-1).match(or),C&&n>0&&(m*=Math.pow(fe,C.length))):nr.test(e.charAt(d-1))?(m*=Zt,j=e.slice(n,d-1).match(et),j&&n>0&&(m*=Math.pow(fe,j.length))):(m*=Xt,n>0&&(m*=Math.pow(fe,d-n))),e.charAt(d)!==r.charAt(o)&&(m*=er)),(m<de&&t.charAt(d-1)===l.charAt(o+1)||l.charAt(o+1)===l.charAt(o)&&t.charAt(d-1)!==l.charAt(o))&&(x=me(e,r,t,l,d+1,o+2,c),x*de>m&&(m=x*de)),m>f&&(f=m),d=t.indexOf(g,d+1);return c[u]=f,f}function je(e){return e.toLowerCase().replace(et," ")}function ar(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,me(e,r,je(e),je(r),0,0,{})}var te="Dialog",[tt,Xr]=Te(te),[lr,S]=tt(te),rt=e=>{const{__scopeDialog:r,children:t,open:l,defaultOpen:n,onOpenChange:o,modal:c=!0}=e,u=a.useRef(null),g=a.useRef(null),[d,f]=Me({prop:l,defaultProp:n??!1,onChange:o,caller:te});return i.jsx(lr,{scope:r,triggerRef:u,contentRef:g,contentId:k(),titleId:k(),descriptionId:k(),open:d,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(m=>!m),[f]),modal:c,children:t})};rt.displayName=te;var ot="DialogTrigger",sr=a.forwardRef((e,r)=>{const{__scopeDialog:t,...l}=e,n=S(ot,t),o=H(r,n.triggerRef);return i.jsx(D.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":be(n.open),...l,ref:o,onClick:_(e.onClick,n.onOpenToggle)})});sr.displayName=ot;var he="DialogPortal",[ir,nt]=tt(he,{forceMount:void 0}),at=e=>{const{__scopeDialog:r,forceMount:t,children:l,container:n}=e,o=S(he,r);return i.jsx(ir,{scope:r,forceMount:t,children:a.Children.map(l,c=>i.jsx(Q,{present:t||o.open,children:i.jsx($e,{asChild:!0,container:n,children:c})}))})};at.displayName=he;var X="DialogOverlay",lt=a.forwardRef((e,r)=>{const t=nt(X,e.__scopeDialog),{forceMount:l=t.forceMount,...n}=e,o=S(X,e.__scopeDialog);return o.modal?i.jsx(Q,{present:l||o.open,children:i.jsx(ur,{...n,ref:r})}):null});lt.displayName=X;var cr=Ne("DialogOverlay.RemoveScroll"),ur=a.forwardRef((e,r)=>{const{__scopeDialog:t,...l}=e,n=S(X,t);return i.jsx(We,{as:cr,allowPinchZoom:!0,shards:[n.contentRef],children:i.jsx(D.div,{"data-state":be(n.open),...l,ref:r,style:{pointerEvents:"auto",...l.style}})})}),T="DialogContent",st=a.forwardRef((e,r)=>{const t=nt(T,e.__scopeDialog),{forceMount:l=t.forceMount,...n}=e,o=S(T,e.__scopeDialog);return i.jsx(Q,{present:l||o.open,children:o.modal?i.jsx(dr,{...n,ref:r}):i.jsx(fr,{...n,ref:r})})});st.displayName=T;var dr=a.forwardRef((e,r)=>{const t=S(T,e.__scopeDialog),l=a.useRef(null),n=H(r,t.contentRef,l);return a.useEffect(()=>{const o=l.current;if(o)return Le(o)},[]),i.jsx(it,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:_(e.onFocusOutside,o=>o.preventDefault())})}),fr=a.forwardRef((e,r)=>{const t=S(T,e.__scopeDialog),l=a.useRef(!1),n=a.useRef(!1);return i.jsx(it,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(l.current||t.triggerRef.current?.focus(),o.preventDefault()),l.current=!1,n.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(l.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),it=a.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:o,...c}=e,u=S(T,t),g=a.useRef(null),d=H(r,g);return Ge(),i.jsxs(i.Fragment,{children:[i.jsx(ze,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:o,children:i.jsx(Be,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":be(u.open),...c,ref:d,onDismiss:()=>u.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(gr,{titleId:u.titleId}),i.jsx(xr,{contentRef:g,descriptionId:u.descriptionId})]})]})}),xe="DialogTitle",pr=a.forwardRef((e,r)=>{const{__scopeDialog:t,...l}=e,n=S(xe,t);return i.jsx(D.h2,{id:n.titleId,...l,ref:r})});pr.displayName=xe;var ct="DialogDescription",mr=a.forwardRef((e,r)=>{const{__scopeDialog:t,...l}=e,n=S(ct,t);return i.jsx(D.p,{id:n.descriptionId,...l,ref:r})});mr.displayName=ct;var ut="DialogClose",vr=a.forwardRef((e,r)=>{const{__scopeDialog:t,...l}=e,n=S(ut,t);return i.jsx(D.button,{type:"button",...l,ref:r,onClick:_(e.onClick,()=>n.onOpenChange(!1))})});vr.displayName=ut;function be(e){return e?"open":"closed"}var dt="DialogTitleWarning",[eo,ft]=At(dt,{contentName:T,titleName:xe,docsSlug:"dialog"}),gr=({titleId:e})=>{const r=ft(dt),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},hr="DialogDescriptionWarning",xr=({contentRef:e,descriptionId:r})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ft(hr).contentName}}.`;return a.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(l))},[l,e,r]),null},br=rt,Cr=at,yr=lt,wr=st,V='[cmdk-group=""]',pe='[cmdk-group-items=""]',Rr='[cmdk-group-heading=""]',pt='[cmdk-item=""]',ke=`${pt}:not([aria-disabled="true"])`,ve="cmdk-item-select",W="data-value",Pr=(e,r,t)=>ar(e,r,t),mt=a.createContext(void 0),Z=()=>a.useContext(mt),vt=a.createContext(void 0),Ce=()=>a.useContext(vt),gt=a.createContext(void 0),ht=a.forwardRef((e,r)=>{let t=G(()=>{var s,v;return{search:"",value:(v=(s=e.value)!=null?s:e.defaultValue)!=null?v:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=G(()=>new Set),n=G(()=>new Map),o=G(()=>new Map),c=G(()=>new Set),u=xt(e),{label:g,children:d,value:f,onValueChange:m,filter:x,shouldFilter:C,loop:j,disablePointerSelection:K=!1,vimBindings:w=!0,...P}=e,oe=k(),ye=k(),ne=k(),M=a.useRef(null),R=Mr();F(()=>{if(f!==void 0){let s=f.trim();t.current.value=s,I.emit()}},[f]),F(()=>{R(6,Re)},[]);let I=a.useMemo(()=>({subscribe:s=>(c.current.add(s),()=>c.current.delete(s)),snapshot:()=>t.current,setState:(s,v,h)=>{var p,b,y,A;if(!Object.is(t.current[s],v)){if(t.current[s]=v,s==="search")ie(),le(),R(1,se);else if(s==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let E=document.getElementById(ne);E?E.focus():(p=document.getElementById(oe))==null||p.focus()}if(R(7,()=>{var E;t.current.selectedItemId=(E=L())==null?void 0:E.id,I.emit()}),h||R(5,Re),((b=u.current)==null?void 0:b.value)!==void 0){let E=v??"";(A=(y=u.current).onValueChange)==null||A.call(y,E);return}}I.emit()}},emit:()=>{c.current.forEach(s=>s())}}),[]),ae=a.useMemo(()=>({value:(s,v,h)=>{var p;v!==((p=o.current.get(s))==null?void 0:p.value)&&(o.current.set(s,{value:v,keywords:h}),t.current.filtered.items.set(s,we(v,h)),R(2,()=>{le(),I.emit()}))},item:(s,v)=>(l.current.add(s),v&&(n.current.has(v)?n.current.get(v).add(s):n.current.set(v,new Set([s]))),R(3,()=>{ie(),le(),t.current.value||se(),I.emit()}),()=>{o.current.delete(s),l.current.delete(s),t.current.filtered.items.delete(s);let h=L();R(4,()=>{ie(),h?.getAttribute("id")===s&&se(),I.emit()})}),group:s=>(n.current.has(s)||n.current.set(s,new Set),()=>{o.current.delete(s),n.current.delete(s)}),filter:()=>u.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:oe,inputId:ne,labelId:ye,listInnerRef:M}),[]);function we(s,v){var h,p;let b=(p=(h=u.current)==null?void 0:h.filter)!=null?p:Pr;return s?b(s,t.current.search,v):0}function le(){if(!t.current.search||u.current.shouldFilter===!1)return;let s=t.current.filtered.items,v=[];t.current.filtered.groups.forEach(p=>{let b=n.current.get(p),y=0;b.forEach(A=>{let E=s.get(A);y=Math.max(E,y)}),v.push([p,y])});let h=M.current;q().sort((p,b)=>{var y,A;let E=p.getAttribute("id"),J=b.getAttribute("id");return((y=s.get(J))!=null?y:0)-((A=s.get(E))!=null?A:0)}).forEach(p=>{let b=p.closest(pe);b?b.appendChild(p.parentElement===b?p:p.closest(`${pe} > *`)):h.appendChild(p.parentElement===h?p:p.closest(`${pe} > *`))}),v.sort((p,b)=>b[1]-p[1]).forEach(p=>{var b;let y=(b=M.current)==null?void 0:b.querySelector(`${V}[${W}="${encodeURIComponent(p[0])}"]`);y?.parentElement.appendChild(y)})}function se(){let s=q().find(h=>h.getAttribute("aria-disabled")!=="true"),v=s?.getAttribute(W);I.setState("value",v||void 0)}function ie(){var s,v,h,p;if(!t.current.search||u.current.shouldFilter===!1){t.current.filtered.count=l.current.size;return}t.current.filtered.groups=new Set;let b=0;for(let y of l.current){let A=(v=(s=o.current.get(y))==null?void 0:s.value)!=null?v:"",E=(p=(h=o.current.get(y))==null?void 0:h.keywords)!=null?p:[],J=we(A,E);t.current.filtered.items.set(y,J),J>0&&b++}for(let[y,A]of n.current)for(let E of A)if(t.current.filtered.items.get(E)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=b}function Re(){var s,v,h;let p=L();p&&(((s=p.parentElement)==null?void 0:s.firstChild)===p&&((h=(v=p.closest(V))==null?void 0:v.querySelector(Rr))==null||h.scrollIntoView({block:"nearest"})),p.scrollIntoView({block:"nearest"}))}function L(){var s;return(s=M.current)==null?void 0:s.querySelector(`${pt}[aria-selected="true"]`)}function q(){var s;return Array.from(((s=M.current)==null?void 0:s.querySelectorAll(ke))||[])}function ce(s){let v=q()[s];v&&I.setState("value",v.getAttribute(W))}function ue(s){var v;let h=L(),p=q(),b=p.findIndex(A=>A===h),y=p[b+s];(v=u.current)!=null&&v.loop&&(y=b+s<0?p[p.length-1]:b+s===p.length?p[0]:p[b+s]),y&&I.setState("value",y.getAttribute(W))}function Pe(s){let v=L(),h=v?.closest(V),p;for(;h&&!p;)h=s>0?Nr(h,V):Or(h,V),p=h?.querySelector(ke);p?I.setState("value",p.getAttribute(W)):ue(s)}let Ee=()=>ce(q().length-1),De=s=>{s.preventDefault(),s.metaKey?Ee():s.altKey?Pe(1):ue(1)},Ie=s=>{s.preventDefault(),s.metaKey?ce(0):s.altKey?Pe(-1):ue(-1)};return a.createElement(D.div,{ref:r,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:s=>{var v;(v=P.onKeyDown)==null||v.call(P,s);let h=s.nativeEvent.isComposing||s.keyCode===229;if(!(s.defaultPrevented||h))switch(s.key){case"n":case"j":{w&&s.ctrlKey&&De(s);break}case"ArrowDown":{De(s);break}case"p":case"k":{w&&s.ctrlKey&&Ie(s);break}case"ArrowUp":{Ie(s);break}case"Home":{s.preventDefault(),ce(0);break}case"End":{s.preventDefault(),Ee();break}case"Enter":{s.preventDefault();let p=L();if(p){let b=new Event(ve);p.dispatchEvent(b)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:ae.inputId,id:ae.labelId,style:Fr},g),re(e,s=>a.createElement(vt.Provider,{value:I},a.createElement(mt.Provider,{value:ae},s))))}),Er=a.forwardRef((e,r)=>{var t,l;let n=k(),o=a.useRef(null),c=a.useContext(gt),u=Z(),g=xt(e),d=(l=(t=g.current)==null?void 0:t.forceMount)!=null?l:c?.forceMount;F(()=>{if(!d)return u.item(n,c?.id)},[d]);let f=bt(n,o,[e.value,e.children,o],e.keywords),m=Ce(),x=N(R=>R.value&&R.value===f.current),C=N(R=>d||u.filter()===!1?!0:R.search?R.filtered.items.get(n)>0:!0);a.useEffect(()=>{let R=o.current;if(!(!R||e.disabled))return R.addEventListener(ve,j),()=>R.removeEventListener(ve,j)},[C,e.onSelect,e.disabled]);function j(){var R,I;K(),(I=(R=g.current).onSelect)==null||I.call(R,f.current)}function K(){m.setState("value",f.current,!0)}if(!C)return null;let{disabled:w,value:P,onSelect:oe,forceMount:ye,keywords:ne,...M}=e;return a.createElement(D.div,{ref:U(o,r),...M,id:n,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!x,"data-disabled":!!w,"data-selected":!!x,onPointerMove:w||u.getDisablePointerSelection()?void 0:K,onClick:w?void 0:j},e.children)}),Dr=a.forwardRef((e,r)=>{let{heading:t,children:l,forceMount:n,...o}=e,c=k(),u=a.useRef(null),g=a.useRef(null),d=k(),f=Z(),m=N(C=>n||f.filter()===!1?!0:C.search?C.filtered.groups.has(c):!0);F(()=>f.group(c),[]),bt(c,u,[e.value,e.heading,g]);let x=a.useMemo(()=>({id:c,forceMount:n}),[n]);return a.createElement(D.div,{ref:U(u,r),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&a.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),re(e,C=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},a.createElement(gt.Provider,{value:x},C))))}),Ir=a.forwardRef((e,r)=>{let{alwaysRender:t,...l}=e,n=a.useRef(null),o=N(c=>!c.search);return!t&&!o?null:a.createElement(D.div,{ref:U(n,r),...l,"cmdk-separator":"",role:"separator"})}),Ar=a.forwardRef((e,r)=>{let{onValueChange:t,...l}=e,n=e.value!=null,o=Ce(),c=N(d=>d.search),u=N(d=>d.selectedItemId),g=Z();return a.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),a.createElement(D.input,{ref:r,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":u,id:g.inputId,type:"text",value:n?e.value:c,onChange:d=>{n||o.setState("search",d.target.value),t?.(d.target.value)}})}),Sr=a.forwardRef((e,r)=>{let{children:t,label:l="Suggestions",...n}=e,o=a.useRef(null),c=a.useRef(null),u=N(d=>d.selectedItemId),g=Z();return a.useEffect(()=>{if(c.current&&o.current){let d=c.current,f=o.current,m,x=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let C=d.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return x.observe(d),()=>{cancelAnimationFrame(m),x.unobserve(d)}}},[]),a.createElement(D.div,{ref:U(o,r),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":l,id:g.listId},re(e,d=>a.createElement("div",{ref:U(c,g.listInnerRef),"cmdk-list-sizer":""},d)))}),jr=a.forwardRef((e,r)=>{let{open:t,onOpenChange:l,overlayClassName:n,contentClassName:o,container:c,...u}=e;return a.createElement(br,{open:t,onOpenChange:l},a.createElement(Cr,{container:c},a.createElement(yr,{"cmdk-overlay":"",className:n}),a.createElement(wr,{"aria-label":e.label,"cmdk-dialog":"",className:o},a.createElement(ht,{ref:r,...u}))))}),kr=a.forwardRef((e,r)=>N(t=>t.filtered.count===0)?a.createElement(D.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),_r=a.forwardRef((e,r)=>{let{progress:t,children:l,label:n="Loading...",...o}=e;return a.createElement(D.div,{ref:r,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},re(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),B=Object.assign(ht,{List:Sr,Item:Er,Input:Ar,Group:Dr,Separator:Ir,Dialog:jr,Empty:kr,Loading:_r});function Nr(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function Or(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function xt(e){let r=a.useRef(e);return F(()=>{r.current=e}),r}var F=typeof window>"u"?a.useEffect:a.useLayoutEffect;function G(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function N(e){let r=Ce(),t=()=>e(r.snapshot());return a.useSyncExternalStore(r.subscribe,t,t)}function bt(e,r,t,l=[]){let n=a.useRef(),o=Z();return F(()=>{var c;let u=(()=>{var d;for(let f of t){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():n.current}})(),g=l.map(d=>d.trim());o.value(e,u,g),(c=r.current)==null||c.setAttribute(W,u),n.current=u}),n}var Mr=()=>{let[e,r]=a.useState(),t=G(()=>new Map);return F(()=>{t.current.forEach(l=>l()),t.current=new Map},[e]),(l,n)=>{t.current.set(l,n),r({})}};function Tr(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function re({asChild:e,children:r},t){return e&&a.isValidElement(r)?a.cloneElement(Tr(r),{ref:r.ref},t(r.props.children)):t(r)}var Fr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function $r({className:e,...r}){return i.jsx(B,{"data-slot":"command",className:$("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function Lr({className:e,...r}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(Nt,{className:"size-4 shrink-0 opacity-50"}),i.jsx(B.Input,{"data-slot":"command-input",className:$("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function Wr({className:e,...r}){return i.jsx(B.List,{"data-slot":"command-list",className:$("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function Gr({...e}){return i.jsx(B.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function zr({className:e,...r}){return i.jsx(B.Group,{"data-slot":"command-group",className:$("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function Br({className:e,...r}){return i.jsx(B.Item,{"data-slot":"command-item",className:$("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Kr(e,r){let t=null;return(...n)=>{t!==null&&(clearTimeout(t),t=null),t=setTimeout(()=>e(...n),r)}}function qr({allTags:e,currentSearchQuery:r,currentTag:t,texts:l,onSearchChange:n,onTagChange:o}){const[c,u]=a.useState(r),[g,d]=a.useState(t),[f,m]=a.useState(!1);a.useEffect(()=>{u(r)},[r]),a.useEffect(()=>{d(t)},[t]);const x=a.useMemo(()=>Kr(n,300),[n]),C=w=>{const P=w.target.value;u(P),x(P)},j=w=>{let P;w===""||w===g?P="":P=w,d(P),o(P),m(!1)},K=[{value:"",label:l.allTagsLabel},...e];return i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[i.jsx(Pt,{type:"search",placeholder:l.searchPlaceholder,value:c,onChange:C,className:"w-full sm:max-w-xs"}),i.jsxs(Ht,{open:f,onOpenChange:m,children:[i.jsx(Qt,{asChild:!0,children:i.jsxs(Ct,{variant:"outline",role:"combobox","aria-expanded":f,className:"w-full sm:w-[200px] justify-between",children:[g&&e.find(w=>w.value===g)?e.find(w=>w.value===g)?.label:l.filterByTagButtonLabel,i.jsx(kt,{className:"ml-2 size-4 shrink-0 opacity-50"})]})}),i.jsx(Yt,{className:"w-full sm:w-[200px] p-0",children:i.jsxs($r,{children:[i.jsx(Lr,{placeholder:l.selectTagCommandPlaceholder}),i.jsxs(Wr,{children:[i.jsx(Gr,{children:l.noTagFound}),i.jsx(zr,{children:K.map(w=>i.jsxs(Br,{value:w.value,onSelect:P=>{j(P)},children:[i.jsx(St,{className:$("mr-2 size-4",g===w.value?"opacity-100":"opacity-0")}),w.label]},w.value))})]})]})})]})]})}function to({allPosts:e,texts:r,lang:t,initialSearchQuery:l="",initialTag:n=""}){const[o,c]=a.useState(l),[u,g]=a.useState(n);a.useEffect(()=>{const f=new URLSearchParams(window.location.search);o?f.set("q",o):f.delete("q"),u?f.set("tag",u):f.delete("tag"),window.history.replaceState({},"",`${window.location.pathname}?${f.toString()}`),yt.set(o),wt.set(u)},[o,u]),a.useMemo(()=>{let f=e;if(o){const x=o.toLowerCase();f=f.filter(C=>C.title.toLowerCase().includes(x)||C.description.toLowerCase().includes(x)||C.body.toLowerCase().includes(x))}u&&(f=f.filter(x=>x.tags?.includes(u)));const m=f.map(x=>x.id);return Rt.set(m),Ae.get()||Ae.set(!0),f},[e,o,u]);const d=a.useMemo(()=>{const f=e.flatMap(m=>m.tags||[]);return[...new Set(f)].sort().map(m=>({value:m,label:m.charAt(0).toUpperCase()+m.slice(1)}))},[e]);return i.jsx(qr,{allTags:d,currentSearchQuery:o,currentTag:u,texts:r,onSearchChange:c,onTagChange:g})}export{to as FilteredPostsList};
